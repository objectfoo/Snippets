<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<meta name="description" content="Js Test Constructor instance methods" />
<meta charset=utf-8 />
<title>Constructor w/instancd methods</title>
<style>
  button {
    padding: 8px 12px;
    background: #eee;
    border: 1px solid #999;
    border-radius: 4px;
  }

  label {
    text-align: center;
    display: inline-block;
    width: 24px;
    border-bottom: 1px dotted gray;
  }
</style>
</head>
<body>
<button id="decrement">-</button>
<label id="count"></label>
<button id="increment">+</button>

<script>
(function () {
  'use strict';

  function Counter() {
    this.count = 0;

    this.inc = function() { this.count++; };
    this.dec = function() { this.count--; };
    this.value = function() { return this.count; };
  }

  var myCounter = new Counter(),

  updateLabel = function() {
    var label = document.getElementById('count');
    updateLabel = function() {
      $(label).text(myCounter.getCount());
    };
    updateLabel();
  };

  $('body').on('click', 'button', function() {
    var id = this.id;

    if (id === 'increment') {
      myCounter.inc();
    } else {
      myCounter.dec();
    }
    updateLabel();
  });
  updateLabel();
})();
</script>
</body>
</html>
